<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>phx javascript 2015</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				 <section class="past" style="display: none;">
          <br>
          <h1>
            Phoenix JavaScript
            <br>
          </h1>
        </section>

        <section class="past" style="display: none;">
          <h1>Luis Montes</h1>
          <h2>@MONTESLU</h2>
        </section>

        <section>
					<img src="images/icedlogo.png">
				</section>



				<section>
					<h1>LOVE</h1>
					<img src="images/js.png" style="margin: 1px;">
				</section>

<!-- 				<section>
					<h3>ES2015 (ES6),</h3>
					<h3>or Typescript,</h3>
					<h3>or CoffeeScript,</h3>
					<h3>or Emscripten,</h3>
					<h3> or one of <a href="https://github.com/jashkenas/coffeescript/wiki/list-of-languages-that-compile-to-js" target="_blank">many, many others...</a></h3>
				</section> -->

        <section>
          <h2>Arduino</h2>
          <img src="images/arduino.jpg" style="margin: 1px;">
          <h2>C/C++</h2>
        </section>

       <section  data-transition="slide" data-background="#a4c639" data-background-transition="zoom">
          <h3>Mobile Apps!</h3>
          <img src="images/app.png">
        </section>

				<section>
					<h3>198830 reasons why</h3>
					<img src="images/modulecounts.png" style="margin: 1px;">
				</section>


				<section>
					<h3>but I still need native apps</h3>
					<h2>For Gaming!</h2>
				</section>

		<!-- 		<section>
					<h2>Web GL ?</h2>
					<img src="images/virtua.png" style="margin: 1px;">
          <h2>FTW</h2>
				</section> -->

				<section data-background="images/unreal4.png">
					<h2>Unreal Engine 4</h2>
				</section>


				<section>
					<h3>but I still need native apps</h3>
					<h2>For the Camera!</h2>
				</section>

				<section>
					<h2>Web RTC</h2>
					<img src="images/webrtc_logo.gif" style="margin: 1px;">
				</section>




				<section>
					<h2>Camera and Mic</h2>
					<pre><code data-trim contenteditable>
navigator.getUserMedia(constraints, successCallback, errorCallback);
					</code></pre>
					<pre><code data-trim contenteditable>
function success(stream) {
   var video = document.querySelector('video');
   video.src = window.URL.createObjectURL(stream);
   video.onloadedmetadata = function(e) {
      // Do something with the video here.
   };
}
					</code></pre>
				</section>

				<section>
					<h2>RTC Peer Connections</h2>
					<a href="https://talky.io/" target="_blank">https://talky.io/</a>
				</section>

				<section>
					<h2>Peer to Peer Data Channel</h2>
					<a href="http://socket.io/blog/socket-io-p2p/" target="_blank">http://socket.io/blog/socket-io-p2p/</a>
				</section>

				<section>
					<h2>How about:</h2>
					<ul>
						<li>GPS data</li>
						<li>Accelerometers</li>
						<li>High performance Audio</li>
					</ul>
				</section>

				<section>
					<h2>Yup:</h2>
					<pre><code data-trim contenteditable>
navigator.geolocation.getCurrentPosition(myCallback);
					</code></pre>
					<pre><code data-trim contenteditable>
window.addEventListener("deviceorientation", handleOrientation, true);
					</code></pre>
					<pre><code data-trim contenteditable>
var myContext = new AudioContext();
					</code></pre>
				</section>

        <section>
          <h1>IoT WtF?</h1>
        </section>


        <section>
          <h1>Web 2.0</h1>
          <img src="images/ds-ajax.jpg" style="margin: 1px;">
        </section>

        <section>
          <h2>Connecting 50 Billion devices...</h2>
          <img src="images/iot.jpg" style="margin: 1px;">
        </section>


        <section>
          <h3>Transports:</h3>
          <ul>
            <li>AJAX</li>
            <li>WebSockets</li>
            <li>MQTT</li>
            <li>COAP</li>
            <li>Many others</li>
          </ul>
        </section>


        <section>
          <h3>IoT platforms:</h3>
          <ul>
            <li>Octoblu (Skynet)</li>
            <li>Amazon AWS IoT</li>
            <li>IBM Bluemix</li>
            <li>Many others</li>
          </ul>
        </section>

        <section>
          <h2>JavaScript and Hardware</h2>
          <img src="images/johnny-five.png" style="margin: 1px;">
        </section>

        <section>
          <h3>In the beginning...</h3>
          <img src="images/nodebots.png" style="margin: 1px;">
          <h3>node serialport</h3>
        </section>

        <section>
          <h3>Arduino</h3>
          <h1>+</h1>
          <h3>Firmata</h3>
        </section>

        <section>
          <h3>Johnny-Five</h3>
          <pre><code data-trim contenteditable>
var five = require("johnny-five");
var board = new five.Board();

board.on("ready", function() {

  var led = new five.Led(13);

  // "blink" the led in 500ms on-off phase periods
  led.blink(500);
});
        </code></pre>
        </section>


        <section>
          <h3 style="margin: 0 0 8px 0;">Hardware APIs</h3>
          <img src="images/oledjs.png" style="margin: 1px;">
        </section>

        <section>
          <h3>Other Boards:</h3>
          <ul>
            <li>Raspberry Pi</li>
            <li>Beagle Bone</li>
            <li>Intel Edison/Galileo</li>
            <li>LightBlue Bean</li>
            <li>Tessel 2</li>
            <li>Particle Photon</li>
            <li><a href="http://johnny-five.io/platform-support/" target="_blank">many others...</a></li>
          </ul>
        </section>

        <section>
          <h3 style="margin: 0 0 8px 0;">Node-Red</h3>
          <img src="images/in_out.png" style="margin: 1px;">
        </section>

        <section>
          <h3 style="margin: 0 0 8px 0;">Chromebots</h3>
          <img src="images/chromebots.png" style="margin: 1px;">
        </section>

        <section>
          <h2 style="margin: 0 0 8px 0;">The Web is getting closer...</h2>
        </section>


        <section>
          <h2>but the web couldn't possibly :</h2>
          <img src="images/bluetooth.png" style="margin: 1px;">
        </section>

        <section data-background="images/oh_yeah_obama.gif">
        </section>

				<section>
					<h2>BLE Devices:</h2>
					<ul>
						<li>Advertising packet</li>
						<li>Services</li>
						<li>Characterisics</li>
						<li>Descriptors</li>
					</ul>
				</section>

				<section>
					<h2>Node.js:</h2>
					<a href="https://github.com/sandeepmistry/noble" target="_blank">https://github.com/sandeepmistry/noble</a>
					<br><br>and<br>
					<h2>Browser behind a flag:</h2>
					<pre><code data-trim contenteditable>
navigator.bluetooth;
					</code></pre>
				</section>

				<section>
					<a href="https://github.com/monteslu/coolbeans" target="_blank">https://github.com/monteslu/coolbeans</a>
					<img src="images/coolbeans.jpg" style="margin: 1px;">
				</section>



				<section>
					<h3>Acting like an app.</h3>
					<img src="images/androidapple.png" style="margin: 1px;">
				</section>



				<section>
					<h2>manifest.json</h2>
					<pre><code data-trim contenteditable>
<link rel="manifest" href="/manifest.json">
					</code></pre>
				</section>

				<section>
					<pre><code data-trim contenteditable>
{
  "short_name": "Luis's Amaze App",
  "name": "Luis's magic unicorn app.",
  "icons": [
    {
      "src": "launcher-icon-2x.png",
      "sizes": "96x96",
      "type": "image/png"
    },
    ...
  ],
  "start_url": "/index.html",
  "display": "standalone",
  "orientation": "landscape"
}
					</code></pre>
				</section>


				<section>
					<h2>Work offline</h2>
					<img src="images/offline.png" style="margin: 1px; border: 0;">
				</section>


				<section>
					<h2>HTTPS Only</h2>
					<a href="https://letsencrypt.org/" target="_blank">https://letsencrypt.org/</a><br>
					<a href="https://pages.github.com/" target="_blank">https://pages.github.com/</a>
				</section>


				<section>
					<h2>Service Worker</h2>
					<img src="images/sw-lifecycle.png" style="margin: 1px; border: 0;">
				</section>

				<section>
					<h3>Register ServiceWorker</h3>
					<pre><code data-trim contenteditable>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('myServiceWorker.js')
  .then(function(reg) {
    console.log('Yey serivceworker!', reg);

  }).catch(function(err) {
    console.log('Boo no serviceWorker!', err);
  });
}
					</code></pre>
				</section>

		  <section>
					<h3>myServiceWorker.js</h3>
					<pre><code data-trim contenteditable>
self.addEventListener('install', function(event) {
  event.waitUntil(
    caches.open('static-v1')
    .then(function(cache) {
      return cache.addAll([
        '/',
        '/myScript.js',
        '/css/styles.css',
        new Request('//storage.googleapis.com/code.getmdl.io/1.0.4/material.indigo-pink.min.css', {mode: 'no-cors'})
      ]);
    })
  );
});
					</code></pre>
				</section>


		  <section>
					<h3>handling fetches</h3>
					<pre><code data-trim contenteditable>
self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request).then(function(response) {
      return response || fetch(event.request);
    })
  );
});
					</code></pre>
				</section>

			  <section>
					<h3>debugging:</h3>
					<a href="chrome://serviceworker-internals/" target="_blank">chrome://serviceworker-internals/</a><br>
					<a href="chrome://inspect/#service-workers" target="_blank">chrome://inspect/#service-workers</a>
				</section>

<!-- 				<section>
					<h2>Demo Time!</h2>
					<a href="https://monteslu.github.io/bggapp/" target="_blank">https://monteslu.github.io/bggapp/</a><br>
					<a href="https://github.com/monteslu/bggapp" target="_blank">source</a>
				</section> -->

				<section>
					<h2>Cloud Messaging</h2>
					<img src="images/thecloud.jpg" style="margin: 1px; border: 0;">
				</section>

				<section>
					<h2>update manifest</h2>
					<pre><code data-trim contenteditable>
"gcm_sender_id": "123456789012",
"gcm_user_visible_only": true
				</code></pre>
				</section>

				<section>
					<h3>update client registraion</h3>
					<pre><code data-trim contenteditable>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('myServiceWorker.js')
  .then(function(registration) {
		return registration.pushManager.subscribe({userVisibleOnly: true});
  })
  .then(function(subscription){
		isPushEnabled = true;
		sendSubscriptionToServer(subscription);
	});
}
				</code></pre>
			  </section>

				<section>
					<h3>push event in ServiceWorker</h3>
					<pre><code data-trim contenteditable>
self.addEventListener('push', function(event) {
  var title = 'Yay a message.';
  var body = 'We have received a push message.';
  var icon = '/images/icon-192x192.png';
  var tag = 'simple-push-demo-notification-tag';

  event.waitUntil(
    self.registration.showNotification(title, {
      body: body,
      icon: icon,
      tag: tag
    })
  );
});
				</code></pre>
				</section>

				<section>
					<h2>Messaging Demo</h2>
					<a href="https://simple-push-demo.appspot.com/" target="_blank">https://simple-push-demo.appspot.com/</a>
				</section>

				<section>
					<h2>Bridging Communication</h2>
					<ul>
						<li>A page can postMessage() to the ServiceWorker</li>
						<li>The ServiceWorker can message its page</li>
						<li>Another client or IoT cloud can post to the ServiceWorker</li>
					</ul>
				</section>

        <section>
          <h2>Browser-based IoT</h2>
          <a href="https://pagenodes.surge.sh" target="_blank">https://pagenodes.surge.sh</a>
        </section>

         <section class="past" style="display: none;">
          <h2>I just like this picture, ok?</h2>
          <img src="images/breaking_bad.jpg" style="margin: 1px; border: 0;">
        </section>

				 <section class="past" style="display: none;">
          <h1>Thank You!</h1>
          <h2>Luis Montes</h2>
          <h2>@MONTESLU</h2>
        </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
